# 06. AI-рецензент эссе из Google Docs

Этот воркфлоу автоматизирует процесс проверки и рецензирования эссе или других текстовых документов, загружаемых в Google Drive. Система автоматически извлекает текст, отправляет его на анализ AI-модели, которая выступает в роли преподавателя, и подготавливает структурированный отзыв[7].

## Описание

Воркфлоу предназначен для автоматической оценки студенческих работ. Процесс выглядит следующим образом[7]:
1.  **Триггер**: Воркфлоу запускается автоматически, как только в указанной папке Google Drive появляется новый файл (Google Doc).
2.  **Чтение документа**: Система считывает полное текстовое содержимое нового документа.
3.  **AI-рецензирование**:
    -   Извлеченный текст передается в **AI Agent**.
    -   AI-модель, используя специальный системный промпт, имитирует преподавателя и формирует рецензию.
    -   Рецензия включает в себя:
        -   Текстовый вердикт (не более одного абзаца).
        -   Оценки по 5-балльной шкале для параметров: **Структура, Аргументация, Язык, Стиль**.
        -   Итоговая комплексная оценка (среднее арифметическое).
4.  **Управление файлами**: Параллельно в воркфлоу заложена логика для создания копии исходного файла и его конвертации, что может быть использовано для архивирования или дальнейшей обработки.

## Ключевые компоненты

-   **Google Drive Trigger**: Отслеживает создание новых файлов в целевой папке.
-   **Google Docs Node**: Считывает содержимое документа по его ID.
-   **AI Agent (с OpenRouter Chat Model)**: Генерирует рецензию на основе текста эссе и заданных инструкций.
-   **HTTP Request / Google Drive Node**: Используются для копирования и конвертации файлов напрямую через Google API.
-   **Set Node**: Применяется для подготовки и изменения данных между шагами.

## Настройка и запуск

1.  **Импорт**: Загрузите файл `workflow.json` в ваш n8n.
2.  **Настройка Google**:
    -   В узлах `Google Drive Trigger`, `Google Docs` и `HTTP Request` выберите или создайте учетные данные для доступа к вашему Google-аккаунту (OAuth2).
    -   В триггере укажите ID папки на Google Drive, за которой нужно следить.
    -   В узле `Copy file` укажите ID папки, куда будут сохраняться копии.
3.  **Настройка AI**:
    -   В узле `OpenRouter Chat Model` укажите ваш API-ключ.
4.  **Активация**: Включите воркфлоу. Теперь при добавлении нового документа в указанную папку он будет автоматически забирать его в работу.
